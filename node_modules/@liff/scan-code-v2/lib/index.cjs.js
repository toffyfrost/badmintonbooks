"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,o=require("tslib"),n=require("@liff/sub-window"),t=require("@liff/use"),r=require("@liff/is-api-available"),i=function(){function o(e,o){var n=this;this.resolve=e,this.reject=o,this.onSubmit=function(e){var o=e.message;n.resolve({value:o}),n.destroy()},this.onClose=function(){n.resolve({value:null}),n.destroy()},this.onCancel=function(){n.resolve({value:null}),n.destroy()},this.onError=function(e){n.reject(e),n.destroy()},this.start()}return o.prototype.start=function(){n.subWindow.on("submit",this.onSubmit),n.subWindow.on("close",this.onClose),n.subWindow.on("cancel",this.onCancel),n.subWindow.on("error",this.onError)},o.prototype.destroy=function(){n.subWindow.off("submit",this.onSubmit),n.subWindow.off("close",this.onClose),n.subWindow.off("cancel",this.onCancel),n.subWindow.off("error",this.onError),e=void 0},o}();function s(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(o){return r.validators.scanCodeV2(),e&&e.destroy(),[2,new Promise((function(o,t){e=new i(o,t),n.subWindow.open({url:"https://liff.line.me/1656359117-jxmx5e11"}).catch((function(o){null==e||e.destroy(),t(o)}))}))]}))}))}var u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(n,e),Object.defineProperty(n.prototype,"name",{get:function(){return"scanCodeV2"},enumerable:!1,configurable:!0}),n.prototype.install=function(){return s},n}(t.LiffModule),l=new u;exports.ScanCodeV2Module=u,exports.module=l;
