import{__awaiter as t,__generator as n}from"tslib";import{createLiffError as r,qs as i}from"@liff/util";import{INVALID_ARGUMENT as e,INVALID_CONFIG as o}from"@liff/consts";import{openWindow as a}from"@liff/open-window";var s=0;function c(t){if(!(t&&t.name&&t.iconUrl&&t.state))throw r(e,"Invalid parameters for liff.addToHomeScreen()");return!0}function f(e){return function(f){return t(this,void 0,void 0,(function(){var t,l,u,m,h;return n(this,(function(n){if(c(f),!(t=e.id))throw r(o,"liffId is necessary for liff.init()");return l=f.name,u=f.iconUrl,(m=f.state).startsWith("/")&&(m=m.substring(1)),h={label:l,iconUrl:u,schemePath:"".concat("app/").concat(t,"/?liff.state=").concat(encodeURIComponent("/"+m))},a({url:"".concat("https://line.me/channel/shortcut","?").concat(i.stringify(h)),external:!0}),[2,s]}))}))}}function l(r){return function(i){return t(this,void 0,void 0,(function(){var t,e,o,a;return n(this,(function(n){switch(n.label){case 0:return c(i),t=i.name,e=i.iconUrl,o=i.lineResourcePath,(a=i.state).startsWith("/")&&(a=a.substring(1)),[4,r._call("addToHomeScreen",{name:t,iconUrl:e,state:a,lineResourcePath:o})];case 1:return[2,n.sent().status]}}))}))}}export{l as android,f as ios};
