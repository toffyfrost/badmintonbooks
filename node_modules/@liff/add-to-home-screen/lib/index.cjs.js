"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("@liff/util"),r=require("@liff/consts"),n=require("@liff/open-window"),i=0;function o(e){if(!(e&&e.name&&e.iconUrl&&e.state))throw t.createLiffError(r.INVALID_ARGUMENT,"Invalid parameters for liff.addToHomeScreen()");return!0}exports.android=function(t){return function(r){return e.__awaiter(this,void 0,void 0,(function(){var n,i,a,s;return e.__generator(this,(function(e){switch(e.label){case 0:return o(r),n=r.name,i=r.iconUrl,a=r.lineResourcePath,(s=r.state).startsWith("/")&&(s=s.substring(1)),[4,t._call("addToHomeScreen",{name:n,iconUrl:i,state:s,lineResourcePath:a})];case 1:return[2,e.sent().status]}}))}))}},exports.ios=function(a){return function(s){return e.__awaiter(this,void 0,void 0,(function(){var c,u,f,l,d;return e.__generator(this,(function(e){if(o(s),!(c=a.id))throw t.createLiffError(r.INVALID_CONFIG,"liffId is necessary for liff.init()");return u=s.name,f=s.iconUrl,(l=s.state).startsWith("/")&&(l=l.substring(1)),d={label:u,iconUrl:f,schemePath:"".concat("app/").concat(c,"/?liff.state=").concat(encodeURIComponent("/"+l))},n.openWindow({url:"".concat("https://line.me/channel/shortcut","?").concat(t.qs.stringify(d)),external:!0}),[2,i]}))}))}};
